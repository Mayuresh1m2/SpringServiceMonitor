# Spring Boot Actuator endpoints
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# Database Configuration
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/observability_db}
spring.datasource.username=${DB_USER:user}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate # Flyway will manage the schema
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Flyway Configuration
spring.flyway.enabled=true
# spring.flyway.locations=classpath:db/migration # Default is classpath:db/migration

# JSON serialization for @JdbcTypeCode(SqlTypes.JSON) with jsonb
# Ensure you have a compatible Hibernate version (6.x+) for this to work seamlessly.
# For older versions, custom UserType might be needed.
# spring.jpa.properties.hibernate.type.json_format_mapper=com.fasterxml.jackson.databind.ObjectMapper
# The above property might not be standard; ObjectMapper is usually auto-configured.
# Jackson JSR310 module for proper Java Time serialization
spring.jackson.datatype.jsr310.ser_write_dates_as_timestamps=false
spring.jackson.datatype.jsr310.deser_iso_8601_date_time_format=true
spring.jackson.serialization.write_dates_as_timestamps=false
# The following is often default with Spring Boot 3 and Jackson
# spring.jackson.databind.serialize_jsr310_date_time_as_iso8601=true

# OpenAPI Documentation (Springdoc)
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=alpha
springdoc.swagger-ui.tagsSorter=alpha
springdoc.show-actuator=true # Optionally include actuator endpoints

# Basic API Info
springdoc.swagger-ui.title=Intelligent Observability Service API
springdoc.swagger-ui.description=API for the Intelligent Observability Insights & Recommendation Service.
springdoc.swagger-ui.version=v0.1.0
# You can add more detailed info using @OpenAPIDefinition in a configuration class if needed
# springdoc.swagger-ui.contact.name=Support Team
# springdoc.swagger-ui.contact.email=support@example.com
# springdoc.swagger-ui.license.name=Apache 2.0
# springdoc.swagger-ui.license.url=http://springdoc.org
